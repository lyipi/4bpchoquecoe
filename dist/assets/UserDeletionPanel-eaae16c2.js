import{c as x,u as m,r as a,a as l,j as e,E as h,G as u,B as j,T as b,H as p,I as f,J as g,K as N,L as v,M as w,N as y,O as A}from"./index-084b20c5.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=x("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),C=()=>{const{toast:t}=m(),[o,c]=a.useState([]),[U,d]=a.useState(!0);a.useEffect(()=>{i()},[]);const i=async()=>{d(!0);const{data:s,error:r}=await l.from("users").select("*").order("created_at",{ascending:!1});r?t({title:"Erro",description:"Erro ao carregar usuários",variant:"destructive"}):c(s||[]),d(!1)},n=async s=>{const{error:r}=await l.from("users").delete().eq("id",s);r?(console.error(r),t({title:"Erro",description:"Falha ao deletar usuário. Verifique permissões.",variant:"destructive"})):(t({title:"Sucesso",description:"Usuário deletado permanentemente."}),i())};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 p-4 bg-red-900/10 border border-red-500/20 rounded-lg",children:[e.jsx(D,{className:"w-6 h-6 text-red-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-red-500",children:"Zona de Perigo: Gerenciamento de Usuários (Super Admin)"}),e.jsx("p",{className:"text-xs text-red-400",children:"Ações nesta área são irreversíveis."})]})]}),e.jsx("div",{className:"bg-[#1a1a1a] rounded-xl border border-red-900/20 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-red-950/30 border-b border-red-900/20",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-sm font-medium text-red-200",children:"ID"}),e.jsx("th",{className:"p-4 text-sm font-medium text-red-200",children:"Usuário"}),e.jsx("th",{className:"p-4 text-sm font-medium text-red-200",children:"Nome"}),e.jsx("th",{className:"p-4 text-sm font-medium text-red-200",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-red-900/10",children:o.map(s=>e.jsxs("tr",{className:"hover:bg-red-900/5",children:[e.jsx("td",{className:"p-4 text-xs text-[#a8a9ad] font-mono",children:s.id}),e.jsx("td",{className:"p-4 text-white font-mono",children:s.username}),e.jsx("td",{className:"p-4 text-white",children:s.full_name}),e.jsx("td",{className:"p-4",children:e.jsxs(h,{children:[e.jsx(u,{asChild:!0,children:e.jsxs(j,{variant:"destructive",size:"sm",className:"bg-red-900/50 hover:bg-red-600 border border-red-500/30",children:[e.jsx(b,{className:"w-4 h-4 mr-2"})," Deletar"]})}),e.jsxs(p,{className:"bg-[#1a1a1a] border border-red-500/30 text-white",children:[e.jsxs(f,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-500 mb-2",children:[e.jsx(g,{className:"w-6 h-6"}),e.jsx(N,{children:"Confirmação de Exclusão"})]}),e.jsxs(v,{className:"text-[#a8a9ad]",children:["Tem certeza que deseja deletar o usuário ",e.jsx("span",{className:"text-white font-bold",children:s.username}),"?",e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{className:"text-red-400 font-bold",children:"Esta ação não pode ser desfeita."})," O usuário perderá todo o acesso e seus dados poderão ser perdidos."]})]}),e.jsxs(w,{children:[e.jsx(y,{className:"bg-transparent border border-[#a8a9ad]/20 text-white hover:bg-white/10",children:"Cancelar"}),e.jsx(A,{onClick:()=>n(s.id),className:"bg-red-600 hover:bg-red-700 text-white border-none",children:"Sim, Deletar Usuário"})]})]})]})})]},s.id))})]})})})]})};export{C as default};
